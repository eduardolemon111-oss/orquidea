<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Mi Tienda{% endblock %}</title>

    <!-- aquí se conserva todo tu CSS y fuentes originales -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root{
            --bg:#ffffff;
            --muted:#6b7280;
            --accent:#0ea5a9;
            --card:#ffffff;
            --glass: rgba(255,255,255,0.7);
            --shadow: 0 8px 20px rgba(16,24,40,0.08);
        }

        html,body{height:100%; margin:0; font-family:'Poppins',sans-serif; background: linear-gradient(180deg,#f7f7fb,#ffffff); color:#111827;}
        nav { display:flex; justify-content:space-between; align-items:center; padding:18px 36px; background: transparent; }
        .logo { font-weight:600; font-size:20px; color:#0f172a; }
        .nav-links a { margin-left:18px; text-decoration:none; color:#0f172a; font-weight:600; }
        .container { max-width:1200px; margin: 28px auto; padding: 0 20px; }

        .title { text-align:center; font-size:34px; margin-bottom:24px; color:#0f172a; font-weight:600; }

        .card {
            background: var(--card);
            border-radius:14px;
            padding:18px;
            box-shadow: var(--shadow);
            transition: transform .22s ease, box-shadow .22s ease;
        }
        .card:hover { transform: translateY(-6px); box-shadow: 0 14px 40px rgba(16,24,40,0.12); }

        .btn {
            background: var(--accent);
            color:white;
            padding:10px 16px;
            border-radius:10px;
            border:none;
            cursor:pointer;
            font-weight:600;
            transition: transform .12s ease, box-shadow .12s;
        }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(14,165,169,0.16); }

        footer { text-align:center; color:var(--muted); padding:28px 0; font-size:14px; }

        @media (max-width:900px){ .grid-4 { grid-template-columns: repeat(2,1fr); } }
        @media (max-width:600px){ .grid-4 { grid-template-columns: 1fr; } nav { padding:12px 16px; } }
    </style>

    <!-- admin overrides: se cargan solo si existe usuario y es admin -->
    {% if usuario and usuario.es_admin %}
        <link rel="stylesheet" href="{{ url_for('static', filename='css/admin-overrides.css') }}">
    {% endif %}

    {% block head %}{% endblock %}
</head>
<body class="{% if usuario and usuario['es_admin'] %}admin{% endif %}">

<nav>
    <div class="nav-links">
    <a href="/productos">Nuestros Productos</a>
    <a href="/carrito">Tu Carrito</a>

    {% if usuario and usuario['es_admin'] %}

        <a href="/admin/productos"
           style="
            background:#111;
            color:white;
            padding:6px 14px;
            border-radius:10px;
            margin-left:10px;
           ">
            ADMIN
        </a>
    {% endif %}

    {% if session.get('usuario') %}
        <span style="margin-left:12px; color:#374151;">
            Hola, {{ session['usuario']['nombre'] }}
        </span>
        <a href="/logout">Cerrar sesión</a>
    {% else %}
        <a href="/login">Iniciar sesión</a>
        <a href="/register">Registrarse</a>
    {% endif %}
</div>

</nav>

<div class="container">
    {% block content %}{% endblock %}
</div>

<footer>
    &copy; {{ 2025 }} Flask Shop — Tienda en Linea
</footer>

{% block scripts %}{% endblock %}
</body>
</html>
